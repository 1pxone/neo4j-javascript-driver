<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
    body {
        font: 15px monospace;
    }
    table, th, td {
        border: 1px solid #CCC;
    }
    </style>
    <script src="neo4j.js"></script>
  </head>
  <body>
    <script>
        
    neo4j(function(session) {
        var statement = "RETURN 'hello, world' AS greeting",
            parameters = {};
            
        document.body.appendChild(document.createTextNode("> " + statement));
        var table = document.createElement("table");
        document.body.appendChild(table);
        
        session.run(statement, parameters, function(record) {
        
            // On receipt of RECORD
            var tr = document.createElement("tr");
            for(var i = 0; i < record.length; i++) {
                var td = document.createElement("td");
                td.appendChild(document.createTextNode(record[i]));
                tr.appendChild(td);
            }
            table.appendChild(tr);
            
        }, function(success, metadata) {
        
            // On receipt of header summary message
            if(success) {
                var tr = document.createElement("tr");
                for(var i = 0; i < metadata.fields.length; i++) {
                    var th = document.createElement("th");
                    th.appendChild(document.createTextNode(metadata.fields[i]));
                    tr.appendChild(th);
                }
                table.appendChild(tr);
            }
            
        });
        
    });

    </script>
  </body>
</html>

